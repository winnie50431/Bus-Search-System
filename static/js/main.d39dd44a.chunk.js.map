{"version":3,"sources":["api/auth.js","api/services.js","components/Navbar/styles.js","components/Navbar/Navbar.js","components/Map/styles.js","components/Map/Map.js","components/PlaceDetails/styles.js","components/PlaceDetails/PlaceDetail.js","components/List/styles.js","components/List/List.js","pages/Homepage.js","App.js","index.js"],"names":["GetAuthorizationHeader","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","process","update","Authorization","getHMAC","getData","type","lat","lng","a","console","log","url","options","headers","axios","get","res","data","makeStyles","theme","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","alpha","palette","common","white","marginRight","spacing","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","toolbar","Navbar","classes","useStyles","AppBar","Toolbar","className","Typography","variant","Box","InputBase","placeholder","root","input","paper","flexDirection","mapContainer","markerContainer","transform","zIndex","pointer","cursor","Map","setCoordinates","setChildClicked","coordinates","places","isDesktop","useMediaQuery","bootstrapURLKeys","key","defaultCenter","center","defaultZoom","margin","onChange","e","onChildClick","child","map","place","index","makerContainer","Number","Position","PositionLat","PositionLon","Paper","elevation","gutterBottom","Name","src","Picture","PictureUrl1","alt","fontSize","chip","subtitle","marginTop","PlaceDetail","selected","refProp","current","scrollIntoView","behavior","block","Card","CardMedia","style","image","CardContent","OpenTime","Description","DescriptionDetail","ParkingInfo","Chip","size","label","Class","Class1","LocationOn","Address","City","Phone","CardActions","Button","onClick","window","open","WebsiteUrl","formControl","minWidth","marginBottom","selectEmpty","loading","container","list","overflow","List","setType","childClicked","isLoading","useState","elRefs","setElRefs","useEffect","refs","Array","length","fill","_","i","createRef","CircularProgress","FormControl","InputLabel","Select","value","target","MenuItem","Grid","ref","item","xs","Homepage","setPlaces","setIsLoading","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","then","catch","err","CssBaseline","md","App","basename","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d39dd44a.chunk.js","sourcesContent":["import jsSHA from \"jssha\";\r\n\r\nexport function GetAuthorizationHeader() {\r\n  var AppID = process.env.REACT_APP_ID;\r\n  var AppKey = process.env.REACT_APP_KEY;\r\n\r\n  var GMTString = new Date().toGMTString();\r\n  var ShaObj = new jsSHA(\"SHA-1\", \"TEXT\");\r\n  ShaObj.setHMACKey(AppKey, \"TEXT\");\r\n  ShaObj.update(\"x-date: \" + GMTString);\r\n  var HMAC = ShaObj.getHMAC(\"B64\");\r\n  var Authorization =\r\n    'hmac username=\"' +\r\n    AppID +\r\n    '\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"' +\r\n    HMAC +\r\n    '\"';\r\n\r\n  return {\r\n    Authorization: Authorization,\r\n    \"X-Date\": GMTString /*,'Accept-Encoding': 'gzip'*/,\r\n  }; //如果要將js運行在伺服器，可額外加入 'Accept-Encoding': 'gzip'，要求壓縮以減少網路傳輸資料量\r\n}\r\n","import axios from \"axios\";\r\nimport { GetAuthorizationHeader } from \"./auth\";\r\n\r\nexport const getData = async (type, lat, lng) => {\r\n  console.log({ lat, lng });\r\n  const url = `https://ptx.transportdata.tw/MOTC/v2/Tourism/${type}?$top=30&$spatialFilter=nearby(${lat},${lng},800)&$format=JSON`;\r\n\r\n  const options = {\r\n    headers: GetAuthorizationHeader(),\r\n  };\r\n\r\n  try {\r\n    const res = await axios.get(url, options);\r\n    const data = res.data;\r\n    // console.log(data);\r\n    return data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n","import { alpha, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  title: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n    \"&:hover\": { backgroundColor: alpha(theme.palette.common.white, 0.25) },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"md\")]: { width: \"20ch\" },\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport { Autocomplete } from \"@react-google-maps/api\";\r\nimport { AppBar, Toolbar, Typography, InputBase, Box } from \"@material-ui/core\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst Navbar = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar className={classes.toolbar}>\r\n        <Typography variant=\"h5\" className={classes.title}>\r\n          Title\r\n        </Typography>\r\n        <Box display=\"flex\">\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Explore new places\r\n          </Typography>\r\n          <Autocomplete>\r\n            <div className={classes.search}>\r\n              <div className={classes.searchIcon}>\r\n                <SearchIcon />\r\n              </div>\r\n              <InputBase\r\n                placeholder=\"Search ...\"\r\n                classes={{\r\n                  root: classes.inputRoot,\r\n                  input: classes.inputInput,\r\n                }}\r\n              />\r\n            </div>\r\n          </Autocomplete>\r\n        </Box>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles(() => ({\r\n  paper: {\r\n    padding: \"10px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    width: \"100px\",\r\n  },\r\n  mapContainer: {\r\n    height: \"85vh\",\r\n    width: \"100%\",\r\n  },\r\n  markerContainer: {\r\n    position: \"absolute\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    zIndex: 1,\r\n    \"&:hover\": { zIndex: 2 },\r\n  },\r\n  pointer: {\r\n    cursor: \"pointer\",\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport { Paper, Typography, useMediaQuery } from \"@material-ui/core\";\r\nimport LocationOnOutlined from \"@material-ui/icons/LocationOnOutlined\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst Map = ({ setCoordinates, setChildClicked, coordinates, places }) => {\r\n  const classes = useStyles();\r\n  const isDesktop = useMediaQuery(\"(min-width: 600px)\");\r\n\r\n  return (\r\n    <div className={classes.mapContainer}>\r\n      <GoogleMapReact\r\n        bootstrapURLKeys={{ key: process.env.REACT_APP_MAPSTOKEN }}\r\n        defaultCenter={coordinates}\r\n        center={coordinates}\r\n        defaultZoom={14}\r\n        margin={[50, 50, 50, 50]}\r\n        // options={\"\"}\r\n        onChange={(e) => {\r\n          console.log(e);\r\n          setCoordinates({ lat: e.center.lat, lng: e.center.lng });\r\n        }}\r\n        onChildClick={(child) => {\r\n          setChildClicked(child);\r\n        }}\r\n      >\r\n        {places?.map((place, index) => (\r\n          <div\r\n            className={classes.makerContainer}\r\n            lat={Number(place.Position.PositionLat)}\r\n            lng={Number(place.Position.PositionLon)}\r\n            key={index}\r\n          >\r\n            {!isDesktop ? (\r\n              <LocationOnOutlined color=\"primary\" fontSize=\"large\" />\r\n            ) : (\r\n              <Paper elevation={3} className={classes.paper}>\r\n                <Typography\r\n                  className={classes.Typography}\r\n                  variant=\"subtitle2\"\r\n                  gutterBottom\r\n                >\r\n                  {place.Name}\r\n                </Typography>\r\n                <img\r\n                  className={classes.pointer}\r\n                  src={place.Picture ? place.Picture.PictureUrl1 : null}\r\n                  alt={place.Name}\r\n                />\r\n              </Paper>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </GoogleMapReact>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles(() => ({\r\n  chip: {\r\n    margin: \"5px 5px 5px 0\",\r\n  },\r\n  subtitle: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    marginTop: \"10px\",\r\n  },\r\n  spacing: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\nimport { LocationOn, Phone } from \"@material-ui/icons\";\r\n\r\nimport useStyles from \"./styles\";\r\n\r\nconst PlaceDetail = ({ place, selected, refProp }) => {\r\n  const classes = useStyles();\r\n\r\n  if (selected) {\r\n    // console.log(refProp);\r\n    refProp?.current?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardMedia\r\n        style={{ height: 350 }}\r\n        image={place.Picture ? place.Picture.PictureUrl1 : \"\"}\r\n        title={place.Name}\r\n      />\r\n      <CardContent>\r\n        <Typography gutterBottom variant=\"h5\">\r\n          {place.Name}\r\n        </Typography>\r\n        {place.OpenTime ? (\r\n          <Box display=\"flex\" justifyContent=\"space-between\">\r\n            <Typography variant=\"subtitle1\">營業時間</Typography>\r\n            <Typography gutterBottom variant=\"subtitle1\">\r\n              {place.OpenTime}\r\n            </Typography>\r\n          </Box>\r\n        ) : null}\r\n        <Box display=\"flex\" justifyContent=\"space-between\">\r\n          <Typography gutterBottom variant=\"body1\" color=\"textSecondary\">\r\n            {place.Description || place.DescriptionDetail}\r\n          </Typography>\r\n        </Box>\r\n        {place.ParkingInfo ? (\r\n          <Box display=\"flex\" justifyContent=\"space-between\">\r\n            <Typography gutterBottom variant=\"subtitle1\">\r\n              {place.ParkingInfo}\r\n            </Typography>\r\n          </Box>\r\n        ) : null}\r\n        <Chip\r\n          size=\"small\"\r\n          label={place.Class || place.Class1}\r\n          className={classes.chip}\r\n        />\r\n        <Typography\r\n          gutterBottom\r\n          variant=\"subtitle2\"\r\n          color=\"textSecondary\"\r\n          className={classes.subtitle}\r\n        >\r\n          <LocationOn />\r\n          {place.Address || place.City}\r\n        </Typography>\r\n        <Typography\r\n          variant=\"subtitle2\"\r\n          color=\"textSecondary\"\r\n          className={classes.spacing}\r\n        >\r\n          <Phone />\r\n          {place.Phone}\r\n        </Typography>\r\n        <CardActions>\r\n          <Button\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            onClick={() => window.open(place.WebsiteUrl, \"_blank\")}\r\n          >\r\n            官方網站\r\n          </Button>\r\n        </CardActions>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default PlaceDetail;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    marginBottom: \"30px\",\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  loading: {\r\n    height: \"600px\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  container: {\r\n    padding: \"25px\",\r\n  },\r\n  marginBottom: {\r\n    marginBottom: \"30px\",\r\n  },\r\n  list: {\r\n    height: \"75vh\",\r\n    overflow: \"auto\",\r\n  },\r\n}));\r\n","import React, { useState, useEffect, createRef } from \"react\";\r\nimport {\r\n  CircularProgress,\r\n  Grid,\r\n  Typography,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  FormControl,\r\n} from \"@material-ui/core\";\r\nimport PlaceDetail from \"../PlaceDetails/PlaceDetail\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst List = ({ type, setType, places, childClicked, isLoading }) => {\r\n  const classes = useStyles();\r\n  const [elRefs, setElRefs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // _ : 用於不需要的參數\r\n    const refs = Array(places?.length)\r\n      .fill()\r\n      .map((_, i) => elRefs[i] || createRef());\r\n    setElRefs(refs);\r\n  }, [places]);\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <Typography variant=\"h4\">周圍的餐廳、住宿與景點</Typography>\r\n      {isLoading ? (\r\n        <div className={classes.loading}>\r\n          <CircularProgress size=\"5rem\" />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* 選擇要查找的分類(API) */}\r\n          <FormControl className={classes.formControl}>\r\n            <InputLabel>Type</InputLabel>\r\n            <Select value={type} onChange={(e) => setType(e.target.value)}>\r\n              <MenuItem value=\"ScenicSpot\">景點</MenuItem>\r\n              <MenuItem value=\"Restaurant\">餐廳</MenuItem>\r\n              <MenuItem value=\"Hotel\">旅館</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <Grid container spacing={3} className={classes.list}>\r\n            {places?.map((place, i) => (\r\n              <Grid ref={elRefs[i]} item key={i} xs={12}>\r\n                <PlaceDetail\r\n                  place={place}\r\n                  selected={Number(childClicked) === i}\r\n                  refProp={elRefs[i]}\r\n                />\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getData } from \"../api/services\";\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport Map from \"../components/Map/Map\";\r\nimport List from \"../components/List/List\";\r\nimport { CssBaseline, Grid } from \"@material-ui/core\";\r\n\r\nconst Homepage = () => {\r\n  // 預設為台北車站\r\n  const [coordinates, setCoordinates] = useState({\r\n    lat: 25.047675,\r\n    lng: 121.517055,\r\n  });\r\n  const [type, setType] = useState(\"ScenicSpot\");\r\n  const [places, setPlaces] = useState(null); // api回傳的地點資訊\r\n  const [childClicked, setChildClicked] = useState(null); // 點擊的物件\r\n\r\n  // for refs; \"Cannot read properties of undefined (reading 'length')\"\r\n  const [isLoading, setIsLoading] = useState(false); // loading animation\r\n\r\n  /** get current position */\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      ({ coords: { latitude, longitude } }) => {\r\n        setCoordinates({ lat: latitude, lng: longitude });\r\n      },\r\n      (e) => console.log(e)\r\n    );\r\n  }, []);\r\n\r\n  /** whenever position was changed */\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    if (coordinates) {\r\n      getData(type, coordinates.lat, coordinates.lng)\r\n        .then((data) => {\r\n          setPlaces(data);\r\n          setIsLoading(false);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [coordinates, type]);\r\n\r\n  return (\r\n    <div>\r\n      <CssBaseline />\r\n      <Navbar />\r\n      <Grid container spacing={3} style={{ width: \"100%\" }}>\r\n        <Grid item xs={12} md={4}>\r\n          <List\r\n            type={type}\r\n            setType={setType}\r\n            places={places}\r\n            childClicked={childClicked}\r\n            isLoading={isLoading}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} md={8}>\r\n          <Map\r\n            setCoordinates={setCoordinates}\r\n            setChildClicked={setChildClicked}\r\n            coordinates={coordinates}\r\n            places={places}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import React from \"react\";\nimport Homepage from \"./pages/Homepage\";\nimport { BrowserRouter as HashRouter, Route, Routes } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <HashRouter basename=\"/Bus-Search-System\">\n      <Routes>\n        <Route path=\"/\" element={<Homepage />} />\n      </Routes>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}